%{
#include <stdio.h>
#define YY_USER_ACTION printLocation();
void printLocation();
%}

DIGIT [0-9]
LETER [a-zA-Z_]
id {LETER}({DIGIT}|{LETER})*
IntegerLiteral [1-9]{DIGIT}*|0

%%
"class" printf("CLASS");
"extends" printf("EXTENDS");
"public" printf("PUBLIC");
"static void main" printf("STATICVOIDMAIN");
"String" printf("STRING");
"int" printf("INT");
"boolean" printf("BOOLEAN");
"if" printf("IF");
"else" printf("ELSE");
"while" printf("WHILE");
"System.out.println" printf("SYSTEMOUTPRINTLN");
"length" printf("LENGTH");
"true" printf("TRUE");
"false" printf("FALSE");
"new" printf("NEW");
"this" printf("THIS");
"return" printf("RETURN");
%%

void printLocation(){
	yylloc.first_line = line_number;
	yylloc.first_column = column_number;
	for (int i = 0; i < yyleng; i++) {
		if (yytext[i] == '\n'){
			line_number++;
			column_number = 1;
		} else {
			column_number++;
		}
	}
	yylloc.last_line = line_number;
	yylloc.last_column = column_number;
}
